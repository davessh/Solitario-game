<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.geometry.Insets?>
<?import javafx.scene.control.Button?>
<?import javafx.scene.control.Label?>
<?import javafx.scene.effect.DropShadow?>
<?import javafx.scene.layout.HBox?>
<?import javafx.scene.layout.Pane?>
<?import javafx.scene.layout.Priority?>
<?import javafx.scene.layout.VBox?>
<?import javafx.scene.text.Font?>

<VBox xmlns="http://javafx.com/javafx/11.0.1" xmlns:fx="http://javafx.com/fxml/1" fx:controller="interfaz.SolitaireJuegoController"
      style="-fx-background: linear-gradient(to bottom, #1a472a, #0f4a0f);" spacing="15.0">
    <children>
        <!-- Header mejorado -->
        <HBox alignment="CENTER" spacing="30.0" style="-fx-background: linear-gradient(to bottom, #2d5016, #1a472a);
                                                   -fx-padding: 15;
                                                   -fx-background-radius: 10;
                                                   -fx-border-radius: 10;
                                                   -fx-border-color: #4a7c59;
                                                   -fx-border-width: 2;">
            <children>
                <Label text="Solitario Klondike" textFill="WHITE" style="-fx-font-weight: bold;">
                    <font>
                        <Font name="Arial Bold" size="28.0" />
                    </font>
                    <effect>
                        <DropShadow color="#000000" offsetX="1.0" offsetY="1.0" radius="3.0" />
                    </effect>
                </Label>

                <Pane HBox.hgrow="ALWAYS" />

                <Button fx:id="btnNuevoJuego" mnemonicParsing="false" onAction="#handleNuevoJuego"
                        text="Nuevo Juego" prefHeight="40.0" prefWidth="120.0"
                        style="-fx-background-color: linear-gradient(to bottom, #4CAF50, #45a049);
                               -fx-text-fill: white;
                               -fx-background-radius: 8;
                               -fx-border-radius: 8;
                               -fx-font-weight: bold;" />

                <Button fx:id="btnMenu" mnemonicParsing="false" onAction="#handleVolverMenu"
                        text="Menú" prefHeight="40.0" prefWidth="80.0"
                        style="-fx-background-color: linear-gradient(to bottom, #FF9800, #F57C00);
                               -fx-text-fill: white;
                               -fx-background-radius: 8;
                               -fx-border-radius: 8;
                               -fx-font-weight: bold;" />
            </children>
            <VBox.margin>
                <Insets left="20.0" right="20.0" top="10.0" />
            </VBox.margin>
        </HBox>

        <!-- Área superior: Draw pile, Waste pile y Foundations -->
        <HBox spacing="20.0" alignment="CENTER_LEFT" style="-fx-padding: 0 20 0 20;">
            <children>
                <!-- Draw pile y Waste pile -->
                <VBox spacing="15.0">
                    <children>
                        <Label text="Stock" textFill="WHITE" style="-fx-font-size: 14px; -fx-font-weight: bold;" />
                        <Pane fx:id="drawPilePane" onMouseClicked="#handleDrawPileClick"
                              prefHeight="120.0" prefWidth="85.0"
                              style="-fx-background-color: #1a5c1a;
                                     -fx-border-color: #4a7c59;
                                     -fx-border-width: 3;
                                     -fx-background-radius: 12;
                                     -fx-border-radius: 12;
                                     -fx-cursor: hand;" >
                            <effect>
                                <DropShadow color="#000000" offsetX="2.0" offsetY="2.0" radius="5.0" />
                            </effect>
                        </Pane>
                    </children>
                </VBox>

                <VBox spacing="15.0">
                    <children>
                        <Label text="Waste" textFill="WHITE" style="-fx-font-size: 14px; -fx-font-weight: bold;" />
                        <Pane fx:id="wastePilePane" prefHeight="120.0" prefWidth="85.0"
                              style="-fx-background-color: #1a5c1a;
                                     -fx-border-color: #4a7c59;
                                     -fx-border-width: 3;
                                     -fx-background-radius: 12;
                                     -fx-border-radius: 12;" >
                            <effect>
                                <DropShadow color="#000000" offsetX="2.0" offsetY="2.0" radius="5.0" />
                            </effect>
                        </Pane>
                    </children>
                </VBox>

                <!-- Spacer -->
                <Pane HBox.hgrow="ALWAYS" minWidth="50.0" />

                <!-- Foundations mejoradas -->
                <HBox spacing="20.0" alignment="CENTER">
                    <children>
                        <VBox spacing="10.0" alignment="CENTER">
                            <children>
                                <Label text="♠" textFill="WHITE" style="-fx-font-size: 24px; -fx-font-weight: bold;">
                                    <effect>
                                        <DropShadow color="#000000" offsetX="1.0" offsetY="1.0" radius="2.0" />
                                    </effect>
                                </Label>
                                <Pane fx:id="foundationSpades" prefHeight="120.0" prefWidth="85.0"
                                      style="-fx-background-color: #1a5c1a;
                                             -fx-border-color: #4a7c59;
                                             -fx-border-width: 3;
                                             -fx-background-radius: 12;
                                             -fx-border-radius: 12;" >
                                    <effect>
                                        <DropShadow color="#000000" offsetX="2.0" offsetY="2.0" radius="5.0" />
                                    </effect>
                                </Pane>
                            </children>
                        </VBox>

                        <VBox spacing="10.0" alignment="CENTER">
                            <children>
                                <Label text="♥" textFill="#FF6B6B" style="-fx-font-size: 24px; -fx-font-weight: bold;">
                                    <effect>
                                        <DropShadow color="#000000" offsetX="1.0" offsetY="1.0" radius="2.0" />
                                    </effect>
                                </Label>
                                <Pane fx:id="foundationHearts" prefHeight="120.0" prefWidth="85.0"
                                      style="-fx-background-color: #1a5c1a;
                                             -fx-border-color: #4a7c59;
                                             -fx-border-width: 3;
                                             -fx-background-radius: 12;
                                             -fx-border-radius: 12;" >
                                    <effect>
                                        <DropShadow color="#000000" offsetX="2.0" offsetY="2.0" radius="5.0" />
                                    </effect>
                                </Pane>
                            </children>
                        </VBox>

                        <VBox spacing="10.0" alignment="CENTER">
                            <children>
                                <Label text="♦" textFill="#FF6B6B" style="-fx-font-size: 24px; -fx-font-weight: bold;">
                                    <effect>
                                        <DropShadow color="#000000" offsetX="1.0" offsetY="1.0" radius="2.0" />
                                    </effect>
                                </Label>
                                <Pane fx:id="foundationDiamonds" prefHeight="120.0" prefWidth="85.0"
                                      style="-fx-background-color: #1a5c1a;
                                             -fx-border-color: #4a7c59;
                                             -fx-border-width: 3;
                                             -fx-background-radius: 12;
                                             -fx-border-radius: 12;" >
                                    <effect>
                                        <DropShadow color="#000000" offsetX="2.0" offsetY="2.0" radius="5.0" />
                                    </effect>
                                </Pane>
                            </children>
                        </VBox>

                        <VBox spacing="10.0" alignment="CENTER">
                            <children>
                                <Label text="♣" textFill="WHITE" style="-fx-font-size: 24px; -fx-font-weight: bold;">
                                    <effect>
                                        <DropShadow color="#000000" offsetX="1.0" offsetY="1.0" radius="2.0" />
                                    </effect>
                                </Label>
                                <Pane fx:id="foundationClubs" prefHeight="120.0" prefWidth="85.0"
                                      style="-fx-background-color: #1a5c1a;
                                             -fx-border-color: #4a7c59;
                                             -fx-border-width: 3;
                                             -fx-background-radius: 12;
                                             -fx-border-radius: 12;" >
                                    <effect>
                                        <DropShadow color="#000000" offsetX="2.0" offsetY="2.0" radius="5.0" />
                                    </effect>
                                </Pane>
                            </children>
                        </VBox>
                    </children>
                </HBox>
            </children>
        </HBox>

        <!-- Tableaux mejorados -->
        <HBox spacing="15.0" alignment="CENTER" VBox.vgrow="ALWAYS" style="-fx-padding: 0 20 20 20;">
            <children>
                <VBox alignment="TOP_CENTER" spacing="5.0" HBox.hgrow="ALWAYS">
                    <children>
                        <Pane fx:id="tableau1" prefHeight="500.0" minHeight="400.0" minWidth="85.0"
                              style="-fx-background-color: rgba(26, 92, 26, 0.4);
                                     -fx-border-color: rgba(74, 124, 89, 0.8);
                                     -fx-border-width: 3;
                                     -fx-border-style: solid;
                                     -fx-background-radius: 12;
                                     -fx-border-radius: 12;" />
                    </children>
                </VBox>

                <VBox alignment="TOP_CENTER" spacing="5.0" HBox.hgrow="ALWAYS">
                    <children>
                        <Pane fx:id="tableau2" prefHeight="500.0" minHeight="400.0" minWidth="85.0"
                              style="-fx-background-color: rgba(26, 92, 26, 0.4);
                                     -fx-border-color: rgba(74, 124, 89, 0.8);
                                     -fx-border-width: 3;
                                     -fx-border-style: solid;
                                     -fx-background-radius: 12;
                                     -fx-border-radius: 12;" />
                    </children>
                </VBox>

                <VBox alignment="TOP_CENTER" spacing="5.0" HBox.hgrow="ALWAYS">
                    <children>
                        <Pane fx:id="tableau3" prefHeight="500.0" minHeight="400.0" minWidth="85.0"
                              style="-fx-background-color: rgba(26, 92, 26, 0.4);
                                     -fx-border-color: rgba(74, 124, 89, 0.8);
                                     -fx-border-width: 3;
                                     -fx-border-style: solid;
                                     -fx-background-radius: 12;
                                     -fx-border-radius: 12;" />
                    </children>
                </VBox>

                <VBox alignment="TOP_CENTER" spacing="5.0" HBox.hgrow="ALWAYS">
                    <children>
                        <Pane fx:id="tableau4" prefHeight="500.0" minHeight="400.0" minWidth="85.0"
                              style="-fx-background-color: rgba(26, 92, 26, 0.4);
                                     -fx-border-color: rgba(74, 124, 89, 0.8);
                                     -fx-border-width: 3;
                                     -fx-border-style: solid;
                                     -fx-background-radius: 12;
                                     -fx-border-radius: 12;" />
                    </children>
                </VBox>

                <VBox alignment="TOP_CENTER" spacing="5.0" HBox.hgrow="ALWAYS">
                    <children>
                        <Pane fx:id="tableau5" prefHeight="500.0" minHeight="400.0" minWidth="85.0"
                              style="-fx-background-color: rgba(26, 92, 26, 0.4);
                                     -fx-border-color: rgba(74, 124, 89, 0.8);
                                     -fx-border-width: 3;
                                     -fx-border-style: solid;
                                     -fx-background-radius: 12;
                                     -fx-border-radius: 12;" />
                    </children>
                </VBox>

                <VBox alignment="TOP_CENTER" spacing="5.0" HBox.hgrow="ALWAYS">
                    <children>
                        <Pane fx:id="tableau6" prefHeight="500.0" minHeight="400.0" minWidth="85.0"
                              style="-fx-background-color: rgba(26, 92, 26, 0.4);
                                     -fx-border-color: rgba(74, 124, 89, 0.8);
                                     -fx-border-width: 3;
                                     -fx-border-style: solid;
                                     -fx-background-radius: 12;
                                     -fx-border-radius: 12;" />
                    </children>
                </VBox>

                <VBox alignment="TOP_CENTER" spacing="5.0" HBox.hgrow="ALWAYS">
                    <children>
                        <Pane fx:id="tableau7" prefHeight="500.0" minHeight="400.0" minWidth="85.0"
                              style="-fx-background-color: rgba(26, 92, 26, 0.4);
                                     -fx-border-color: rgba(74, 124, 89, 0.8);
                                     -fx-border-width: 3;
                                     -fx-border-style: solid;
                                     -fx-background-radius: 12;
                                     -fx-border-radius: 12;" />
                    </children>
                </VBox>
            </children>
        </HBox>

        <!-- Footer con información -->
        <HBox alignment="CENTER" spacing="40.0" style="-fx-background: linear-gradient(to bottom, #2d5016, #1a472a);
                                                   -fx-padding: 15;
                                                   -fx-background-radius: 10;
                                                   -fx-border-radius: 10;
                                                   -fx-border-color: #4a7c59;
                                                   -fx-border-width: 2;">
            <children>
                <Label fx:id="lblEstado" text="Juego iniciado" textFill="WHITE" style="-fx-font-size: 16px; -fx-font-weight: bold;" />
                <Label fx:id="lblMovimientos" text="Movimientos: 0" textFill="#FFD700" style="-fx-font-size: 16px; -fx-font-weight: bold;" />
                <Label fx:id="lblTiempo" text="Tiempo: 00:00" textFill="#87CEEB" style="-fx-font-size: 16px; -fx-font-weight: bold;" />
            </children>
            <VBox.margin>
                <Insets left="20.0" right="20.0" bottom="10.0" />
            </VBox.margin>
        </HBox>
    </children>
    <padding>
        <Insets bottom="10.0" left="10.0" right="10.0" top="10.0" />
    </padding>
</VBox>